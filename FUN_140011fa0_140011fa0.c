
/* WARNING: Removing unreachable block (ram,0x00014001219a) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_140011fa0(ulonglong *param_1,undefined4 *param_2,uint param_3,int param_4)

{
  ulonglong uVar1;
  ulonglong uVar2;
  undefined4 uVar3;
  short sVar4;
  short sVar5;
  short sVar6;
  short sVar7;
  short sVar8;
  short sVar9;
  short sVar10;
  short sVar11;
  undefined1 auVar12 [12];
  undefined1 auVar13 [15];
  undefined1 auVar14 [15];
  undefined1 auVar15 [14];
  undefined1 auVar16 [14];
  undefined1 auVar17 [15];
  undefined1 auVar18 [15];
  undefined1 auVar19 [14];
  undefined1 auVar20 [14];
  undefined1 auVar21 [15];
  undefined1 auVar22 [15];
  undefined1 auVar23 [15];
  undefined1 auVar24 [15];
  undefined1 auVar25 [14];
  undefined1 auVar26 [14];
  undefined1 auVar27 [15];
  undefined1 auVar28 [15];
  undefined1 auVar29 [15];
  undefined1 auVar30 [15];
  undefined1 auVar31 [13];
  undefined1 auVar32 [13];
  undefined1 auVar33 [13];
  undefined1 auVar34 [13];
  undefined1 auVar35 [13];
  undefined1 auVar36 [13];
  undefined1 auVar37 [13];
  undefined1 auVar38 [13];
  undefined1 auVar39 [13];
  undefined1 auVar40 [15];
  undefined1 auVar41 [15];
  ulonglong uVar42;
  undefined1 auVar43 [13];
  undefined1 auVar44 [13];
  undefined1 auVar45 [13];
  undefined1 auVar46 [15];
  unkuint9 Var47;
  undefined1 auVar48 [11];
  undefined1 auVar49 [15];
  undefined1 auVar50 [15];
  unkuint9 Var51;
  undefined1 auVar52 [11];
  undefined1 auVar53 [12];
  undefined1 auVar54 [14];
  undefined1 auVar55 [14];
  float fVar56;
  undefined1 auVar57 [15];
  undefined1 auVar58 [15];
  undefined1 auVar59 [15];
  undefined1 auVar60 [15];
  undefined8 uVar61;
  float fVar62;
  float fVar63;
  float fVar64;
  int iVar65;
  undefined1 auVar66 [16];
  undefined1 auVar67 [16];
  float fVar68;
  float fVar72;
  float fVar73;
  undefined1 unaff_XMM6 [16];
  undefined1 auVar69 [16];
  float fVar74;
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  byte bVar75;
  float fVar76;
  float fVar77;
  float fVar78;
  float fVar79;
  int iVar80;
  uint6 uVar81;
  float fVar89;
  float fVar90;
  float fVar92;
  float fVar93;
  float fVar94;
  float fVar95;
  undefined1 auVar82 [16];
  undefined1 auVar84 [16];
  undefined1 auVar86 [16];
  undefined1 auVar87 [16];
  int iVar91;
  undefined1 auVar88 [16];
  undefined1 auVar96 [12];
  byte bVar100;
  undefined1 auVar97 [16];
  undefined1 auVar98 [16];
  undefined1 auVar99 [16];
  float fVar102;
  float fVar103;
  undefined1 auVar104 [16];
  float fVar105;
  undefined4 uVar106;
  uint uVar108;
  uint uVar109;
  uint uVar110;
  float fVar111;
  uint uVar112;
  uint uVar113;
  float fVar114;
  float fVar117;
  uint uVar118;
  uint uVar119;
  float fVar120;
  uint uVar121;
  uint uVar122;
  float fVar123;
  uint uVar124;
  uint uVar125;
  undefined1 auVar115 [16];
  undefined1 auVar116 [16];
  float fVar133;
  undefined1 auVar126 [16];
  undefined1 auVar127 [16];
  undefined1 auVar128 [16];
  float fVar134;
  undefined1 auVar129 [16];
  undefined1 auVar130 [16];
  undefined1 auVar131 [16];
  undefined1 auVar132 [16];
  float fVar136;
  undefined1 auVar135 [16];
  float fVar137;
  undefined2 uVar138;
  undefined1 auVar140 [16];
  undefined1 auVar141 [16];
  undefined1 auVar143 [16];
  undefined1 auVar83 [16];
  undefined1 auVar85 [16];
  uint uVar101;
  undefined1 auVar107 [12];
  undefined1 auVar142 [16];
  undefined6 uVar139;
  
  fVar94 = _UNK_14308664c;
  fVar92 = _UNK_143086648;
  fVar89 = _UNK_143086644;
  fVar78 = _DAT_143086640;
  fVar114 = _UNK_14308663c;
  fVar105 = _UNK_143086638;
  fVar102 = _UNK_143086634;
  fVar64 = _DAT_143086630;
  fVar103 = _UNK_14308661c;
  fVar56 = _UNK_143086618;
  fVar63 = _UNK_143086614;
  fVar62 = _DAT_143086610;
  if (param_4 == 4) {
    iVar65 = 0;
    if (0 < (int)(param_3 & 0xfffffffc)) {
      do {
        uVar1 = *param_1;
        iVar65 = iVar65 + 4;
        uVar2 = param_1[1];
        auVar13._8_6_ = 0;
        auVar13._0_8_ = uVar1;
        auVar13[0xe] = (char)(uVar1 >> 0x38);
        auVar17._8_4_ = 0;
        auVar17._0_8_ = uVar1;
        auVar17[0xc] = (char)(uVar1 >> 0x30);
        auVar17._13_2_ = auVar13._13_2_;
        auVar21._8_4_ = 0;
        auVar21._0_8_ = uVar1;
        auVar21._12_3_ = auVar17._12_3_;
        auVar23._8_2_ = 0;
        auVar23._0_8_ = uVar1;
        auVar23[10] = (char)(uVar1 >> 0x28);
        auVar23._11_4_ = auVar21._11_4_;
        auVar27._8_2_ = 0;
        auVar27._0_8_ = uVar1;
        auVar27._10_5_ = auVar23._10_5_;
        auVar29[8] = (char)(uVar1 >> 0x20);
        auVar29._0_8_ = uVar1;
        auVar29._9_6_ = auVar27._9_6_;
        auVar46._7_8_ = 0;
        auVar46._0_7_ = auVar29._8_7_;
        Var47 = CONCAT81(SUB158(auVar46 << 0x40,7),(char)(uVar1 >> 0x18));
        auVar57._9_6_ = 0;
        auVar57._0_9_ = Var47;
        auVar48._1_10_ = SUB1510(auVar57 << 0x30,5);
        auVar48[0] = (char)(uVar1 >> 0x10);
        auVar58._11_4_ = 0;
        auVar58._0_11_ = auVar48;
        auVar40[2] = (char)(uVar1 >> 8);
        auVar40._0_2_ = (short)uVar1;
        auVar40._3_12_ = SUB1512(auVar58 << 0x20,3);
        auVar49._13_2_ = 0;
        auVar49._0_13_ = auVar40._2_13_;
        param_1 = param_1 + 2;
        auVar14._8_6_ = 0;
        auVar14._0_8_ = uVar2;
        auVar14[0xe] = (char)(uVar2 >> 0x38);
        auVar18._8_4_ = 0;
        auVar18._0_8_ = uVar2;
        auVar18[0xc] = (char)(uVar2 >> 0x30);
        auVar18._13_2_ = auVar14._13_2_;
        auVar22._8_4_ = 0;
        auVar22._0_8_ = uVar2;
        auVar22._12_3_ = auVar18._12_3_;
        auVar24._8_2_ = 0;
        auVar24._0_8_ = uVar2;
        auVar24[10] = (char)(uVar2 >> 0x28);
        auVar24._11_4_ = auVar22._11_4_;
        auVar28._8_2_ = 0;
        auVar28._0_8_ = uVar2;
        auVar28._10_5_ = auVar24._10_5_;
        auVar30[8] = (char)(uVar2 >> 0x20);
        auVar30._0_8_ = uVar2;
        auVar30._9_6_ = auVar28._9_6_;
        auVar50._7_8_ = 0;
        auVar50._0_7_ = auVar30._8_7_;
        Var51 = CONCAT81(SUB158(auVar50 << 0x40,7),(char)(uVar2 >> 0x18));
        auVar59._9_6_ = 0;
        auVar59._0_9_ = Var51;
        auVar52._1_10_ = SUB1510(auVar59 << 0x30,5);
        auVar52[0] = (char)(uVar2 >> 0x10);
        auVar60._11_4_ = 0;
        auVar60._0_11_ = auVar52;
        auVar41[2] = (char)(uVar2 >> 8);
        auVar41._0_2_ = (short)uVar2;
        auVar41._3_12_ = SUB1512(auVar60 << 0x20,3);
        auVar85._0_12_ = SUB1512(auVar49 << 0x10,0);
        auVar85._12_2_ = (short)Var47;
        auVar85._14_2_ = (short)Var51;
        auVar84._12_4_ = auVar85._12_4_;
        auVar84._0_10_ = SUB1510(auVar49 << 0x10,0);
        auVar84._10_2_ = auVar52._0_2_;
        uVar61 = CONCAT62(auVar84._10_6_,auVar48._0_2_);
        auVar53._4_8_ = uVar61;
        auVar53._2_2_ = auVar41._2_2_;
        auVar53._0_2_ = auVar40._2_2_;
        uVar106 = CONCAT22(auVar30._8_2_,auVar29._8_2_);
        auVar107._0_8_ = CONCAT26(auVar24._10_2_,CONCAT24(auVar23._10_2_,uVar106));
        auVar107._8_2_ = auVar17._12_2_;
        auVar107._10_2_ = auVar18._12_2_;
        uVar101 = (uint)((ulonglong)auVar107._0_8_ >> 0x20);
        auVar86._12_4_ = uVar101;
        auVar86._8_4_ = auVar53._0_4_;
        auVar86._0_8_ = CONCAT44(uVar106,CONCAT22((short)uVar2,(short)uVar1)) & 0xffffffff00ff00ff;
        auVar15._10_2_ = 0;
        auVar15._0_10_ = auVar86._0_10_;
        auVar15._12_2_ = (short)(auVar86._0_8_ >> 0x30);
        auVar19._8_2_ = (short)(auVar86._0_8_ >> 0x20);
        auVar19._0_8_ = auVar86._0_8_;
        auVar19._10_4_ = auVar15._10_4_;
        auVar54._6_8_ = 0;
        auVar54._0_6_ = auVar19._8_6_;
        auVar25._4_2_ = (short)(auVar86._0_8_ >> 0x10);
        auVar25._0_4_ = (uint)auVar86._0_8_;
        auVar25._6_8_ = SUB148(auVar54 << 0x40,6);
        fVar120 = (float)((uint)auVar86._0_8_ & 0xffff);
        fVar123 = (float)auVar25._4_4_;
        fVar136 = (float)auVar19._8_4_;
        fVar137 = (float)(auVar15._10_4_ >> 0x10);
        uVar81 = CONCAT24(auVar41._2_2_,auVar53._0_4_) & 0xffff0000ffff;
        auVar131._8_4_ = fVar136;
        auVar131._0_8_ = CONCAT44(fVar123,fVar120);
        auVar131._12_4_ = fVar137;
        auVar116._0_4_ = (float)(int)uVar81;
        auVar116._4_4_ = (float)(ushort)(uVar81 >> 0x20);
        auVar116._8_4_ = (float)(uVar101 & 0xffff);
        auVar116._12_4_ = (float)(uVar101 >> 0x10);
        uVar101 = (uint)uVar61;
        auVar96._0_8_ = CONCAT44(auVar107._8_4_,uVar101);
        auVar96._8_4_ = auVar84._12_4_;
        auVar67._8_4_ = fVar136;
        auVar67._0_8_ = CONCAT44(fVar123,fVar120);
        auVar67._12_4_ = fVar137;
        auVar16._10_2_ = 0;
        auVar16._0_10_ = auVar96._0_10_;
        auVar16._12_2_ = auVar18._12_2_;
        auVar20._8_2_ = auVar17._12_2_;
        auVar20._0_8_ = auVar96._0_8_;
        auVar20._10_4_ = auVar16._10_4_;
        auVar55._6_8_ = 0;
        auVar55._0_6_ = auVar20._8_6_;
        auVar26._4_2_ = auVar52._0_2_;
        auVar26._0_4_ = uVar101;
        auVar26._6_8_ = SUB148(auVar55 << 0x40,6);
        auVar141._0_4_ = (float)(uVar101 & 0xffff);
        auVar141._4_4_ = (float)auVar26._4_4_;
        auVar141._8_4_ = (float)auVar20._8_4_;
        auVar141._12_4_ = (float)(auVar16._10_4_ >> 0x10);
        auVar127 = maxps(auVar131,auVar116);
        auVar69 = minps(auVar67,auVar116);
        auVar127 = maxps(auVar127,auVar141);
        auVar69 = minps(auVar69,auVar141);
        fVar76 = auVar127._0_4_;
        fVar77 = auVar127._4_4_;
        fVar79 = auVar127._8_4_;
        fVar90 = auVar127._12_4_;
        auVar104._0_4_ = (int)fVar76;
        auVar104._4_4_ = (int)fVar77;
        auVar104._8_4_ = (int)fVar79;
        auVar104._12_4_ = (int)fVar90;
        auVar127 = packssdw(auVar104,auVar104);
        fVar68 = fVar76 - auVar69._0_4_;
        fVar72 = fVar77 - auVar69._4_4_;
        fVar73 = fVar79 - auVar69._8_4_;
        fVar74 = fVar90 - auVar69._12_4_;
        uVar101 = -(uint)(fVar76 == 0.0 || fVar68 == 0.0);
        uVar108 = -(uint)(fVar77 == 0.0 || fVar72 == 0.0);
        uVar109 = -(uint)(fVar79 == 0.0 || fVar73 == 0.0);
        uVar110 = -(uint)(fVar90 == 0.0 || fVar74 == 0.0);
        sVar4 = auVar127._0_2_;
        sVar6 = auVar127._2_2_;
        sVar8 = auVar127._4_2_;
        sVar9 = auVar127._6_2_;
        auVar132._0_4_ = fVar76 + (float)((uint)fVar62 & uVar101);
        auVar132._4_4_ = fVar77 + (float)((uint)fVar63 & uVar108);
        auVar132._8_4_ = fVar79 + (float)((uint)fVar56 & uVar109);
        auVar132._12_4_ = fVar90 + (float)((uint)fVar103 & uVar110);
        auVar87._0_4_ = (float)((uint)fVar62 & uVar101) + fVar68;
        auVar87._4_4_ = (float)((uint)fVar63 & uVar108) + fVar72;
        auVar87._8_4_ = (float)((uint)fVar56 & uVar109) + fVar73;
        auVar87._12_4_ = (float)((uint)fVar103 & uVar110) + fVar74;
        auVar69 = rcpps(unaff_XMM6,auVar132);
        auVar71._0_4_ = auVar69._0_4_ * auVar87._0_4_ * fVar62;
        auVar71._4_4_ = auVar69._4_4_ * auVar87._4_4_ * fVar63;
        auVar71._8_4_ = auVar69._8_4_ * auVar87._8_4_ * fVar56;
        auVar71._12_4_ = auVar69._12_4_ * auVar87._12_4_ * fVar103;
        auVar69 = rcpps(auVar71,auVar87);
        fVar68 = auVar69._0_4_;
        fVar76 = (auVar132._0_4_ - fVar120) * fVar68;
        fVar72 = auVar69._4_4_;
        fVar77 = (auVar132._4_4_ - fVar123) * fVar72;
        fVar73 = auVar69._8_4_;
        fVar79 = (auVar132._8_4_ - fVar136) * fVar73;
        fVar74 = auVar69._12_4_;
        fVar90 = (auVar132._12_4_ - fVar137) * fVar74;
        fVar93 = (auVar132._0_4_ - auVar116._0_4_) * fVar68;
        fVar95 = (auVar132._4_4_ - auVar116._4_4_) * fVar72;
        fVar111 = (auVar132._8_4_ - auVar116._8_4_) * fVar73;
        fVar117 = (auVar132._12_4_ - auVar116._12_4_) * fVar74;
        fVar68 = fVar68 * (auVar132._0_4_ - auVar141._0_4_);
        fVar72 = fVar72 * (auVar132._4_4_ - auVar141._4_4_);
        fVar73 = fVar73 * (auVar132._8_4_ - auVar141._8_4_);
        fVar74 = fVar74 * (auVar132._12_4_ - auVar141._12_4_);
        uVar112 = ~-(uint)(fVar120 == auVar132._0_4_) & -(uint)(auVar116._0_4_ == auVar132._0_4_);
        uVar118 = ~-(uint)(fVar123 == auVar132._4_4_) & -(uint)(auVar116._4_4_ == auVar132._4_4_);
        uVar121 = ~-(uint)(fVar136 == auVar132._8_4_) & -(uint)(auVar116._8_4_ == auVar132._8_4_);
        uVar124 = ~-(uint)(fVar137 == auVar132._12_4_) & -(uint)(auVar116._12_4_ == auVar132._12_4_)
        ;
        uVar113 = ~uVar112 & -(uint)(auVar141._0_4_ == auVar132._0_4_);
        uVar119 = ~uVar118 & -(uint)(auVar141._4_4_ == auVar132._4_4_);
        uVar122 = ~uVar121 & -(uint)(auVar141._8_4_ == auVar132._8_4_);
        uVar125 = ~uVar124 & -(uint)(auVar141._12_4_ == auVar132._12_4_);
        fVar68 = ((float)(~uVar113 &
                         ~uVar112 & (uint)(fVar68 - fVar93) & -(uint)(fVar120 == auVar132._0_4_)) +
                 (float)((uint)((fVar93 - fVar76) + fVar78) & uVar113) +
                 (float)(~uVar113 & (uint)((fVar76 - fVar68) + fVar64) & uVar112)) * _DAT_143086620;
        fVar72 = ((float)(~uVar119 &
                         ~uVar118 & (uint)(fVar72 - fVar95) & -(uint)(fVar123 == auVar132._4_4_)) +
                 (float)((uint)((fVar95 - fVar77) + fVar89) & uVar119) +
                 (float)(~uVar119 & (uint)((fVar77 - fVar72) + fVar102) & uVar118)) * _UNK_143086624
        ;
        fVar73 = ((float)(~uVar122 &
                         ~uVar121 & (uint)(fVar73 - fVar111) & -(uint)(fVar136 == auVar132._8_4_)) +
                 (float)((uint)((fVar111 - fVar79) + fVar92) & uVar122) +
                 (float)(~uVar122 & (uint)((fVar79 - fVar73) + fVar105) & uVar121)) * _UNK_143086628
        ;
        fVar74 = ((float)(~uVar125 &
                         ~uVar124 & (uint)(fVar74 - fVar117) & -(uint)(fVar137 == auVar132._12_4_))
                 + (float)((uint)((fVar117 - fVar90) + fVar94) & uVar125) +
                   (float)(~uVar125 & (uint)((fVar90 - fVar74) + fVar114) & uVar124)) *
                 _UNK_14308662c;
        unaff_XMM6._0_4_ = (float)(-(uint)(fVar68 < 0.0) & (uint)(fVar62 + fVar68));
        unaff_XMM6._4_4_ = (float)(-(uint)(fVar72 < 0.0) & (uint)(fVar63 + fVar72));
        unaff_XMM6._8_4_ = (float)(-(uint)(fVar73 < 0.0) & (uint)(fVar56 + fVar73));
        unaff_XMM6._12_4_ = (float)(-(uint)(fVar74 < 0.0) & (uint)(fVar103 + fVar74));
        iVar80 = (int)(float)(~uVar101 &
                             (uint)((float)(~-(uint)(fVar68 < 0.0) & (uint)fVar68) +
                                   unaff_XMM6._0_4_));
        iVar91 = (int)(float)(~uVar108 &
                             (uint)((float)(~-(uint)(fVar72 < 0.0) & (uint)fVar72) +
                                   unaff_XMM6._4_4_));
        auVar143._4_4_ = iVar91;
        auVar143._0_4_ = iVar80;
        auVar143._8_4_ = iVar91;
        auVar143._12_4_ = (int)(float)(~uVar108 & (uint)auVar71._4_4_);
        auVar142._8_8_ = auVar143._8_8_;
        auVar142._4_4_ = (int)(float)(~uVar101 & (uint)auVar71._0_4_);
        auVar142._0_4_ = iVar80;
        auVar88._4_4_ = (int)(float)(~uVar109 & (uint)auVar71._8_4_);
        auVar88._0_4_ =
             (int)(float)(~uVar109 &
                         (uint)((float)(~-(uint)(fVar73 < 0.0) & (uint)fVar73) + unaff_XMM6._8_4_));
        auVar88._8_4_ =
             (int)(float)(~uVar110 &
                         (uint)((float)(~-(uint)(fVar74 < 0.0) & (uint)fVar74) + unaff_XMM6._12_4_))
        ;
        auVar88._12_4_ = (int)(float)(~uVar110 & (uint)auVar71._12_4_);
        auVar69 = packssdw(auVar142,auVar88);
        sVar5 = auVar69._0_2_;
        sVar7 = auVar69._2_2_;
        uVar138 = CONCAT11((0 < sVar7) * (sVar7 < 0x100) * auVar69[2] - (0xff < sVar7),
                           (0 < sVar5) * (sVar5 < 0x100) * auVar69[0] - (0xff < sVar5));
        sVar5 = auVar69._4_2_;
        sVar7 = auVar69._6_2_;
        uVar106 = CONCAT13((0 < sVar7) * (sVar7 < 0x100) * auVar69[6] - (0xff < sVar7),
                           CONCAT12((0 < sVar5) * (sVar5 < 0x100) * auVar69[4] - (0xff < sVar5),
                                    uVar138));
        sVar5 = auVar69._8_2_;
        sVar7 = auVar69._10_2_;
        uVar139 = CONCAT15((0 < sVar7) * (sVar7 < 0x100) * auVar69[10] - (0xff < sVar7),
                           CONCAT14((0 < sVar5) * (sVar5 < 0x100) * auVar69[8] - (0xff < sVar5),
                                    uVar106));
        sVar5 = auVar69._12_2_;
        sVar7 = auVar69._14_2_;
        *(undefined2 *)param_2 = uVar138;
        *(char *)((longlong)param_2 + 2) =
             (0 < sVar4) * (sVar4 < 0x100) * auVar127[0] - (0xff < sVar4);
        *(short *)(param_2 + 1) = (short)((uint6)uVar139 >> 0x20);
        *(char *)((longlong)param_2 + 6) =
             (0 < sVar8) * (sVar8 < 0x100) * auVar127[4] - (0xff < sVar8);
        *(short *)(param_2 + 2) = (short)((uint)uVar106 >> 0x10);
        *(char *)((longlong)param_2 + 10) =
             (0 < sVar6) * (sVar6 < 0x100) * auVar127[2] - (0xff < sVar6);
        *(short *)(param_2 + 3) =
             (short)(CONCAT17((0 < sVar7) * (sVar7 < 0x100) * auVar69[0xe] - (0xff < sVar7),
                              CONCAT16((0 < sVar5) * (sVar5 < 0x100) * auVar69[0xc] - (0xff < sVar5)
                                       ,uVar139)) >> 0x30);
        *(char *)((longlong)param_2 + 0xe) =
             (0 < sVar9) * (sVar9 < 0x100) * auVar127[6] - (0xff < sVar9);
        param_2 = param_2 + 4;
      } while (iVar65 < (int)(param_3 & 0xfffffffc));
    }
    fVar63 = _DAT_143086620;
    for (; iVar65 < (int)param_3; iVar65 = iVar65 + 1) {
      fVar105 = (float)(byte)*param_1;
      fVar102 = (float)*(byte *)((longlong)param_1 + 1);
      fVar103 = (float)*(byte *)((longlong)param_1 + 2);
      fVar56 = fVar105;
      if (fVar105 <= fVar102) {
        fVar56 = fVar102;
      }
      fVar114 = fVar105;
      if (fVar102 <= fVar105) {
        fVar114 = fVar102;
      }
      if (fVar56 <= fVar103) {
        fVar56 = fVar103;
      }
      if (fVar103 <= fVar114) {
        fVar114 = fVar103;
      }
      *(char *)((longlong)param_2 + 2) = (char)(int)ROUND(fVar56);
      fVar114 = fVar56 - fVar114;
      if ((fVar56 == 0.0) || ((fVar114 == 0.0 && (!NAN(fVar114))))) {
        *(undefined1 *)((longlong)param_2 + 1) = 0;
        *(undefined1 *)param_2 = 0;
      }
      else {
        auVar69 = rcpss(ZEXT416((uint)fVar56),ZEXT416((uint)fVar56));
        auVar127 = rcpss(ZEXT416((uint)fVar114),ZEXT416((uint)fVar114));
        fVar89 = auVar127._0_4_;
        fVar92 = (fVar56 - fVar105) * fVar89;
        fVar94 = (fVar56 - fVar103) * fVar89;
        fVar89 = (fVar56 - fVar102) * fVar89;
        *(char *)((longlong)param_2 + 1) = (char)(int)ROUND(auVar69._0_4_ * fVar114 * fVar62);
        fVar114 = 0.0;
        if ((fVar56 == fVar105) && (!NAN(fVar56) && !NAN(fVar105))) {
          fVar114 = fVar94 - fVar89;
        }
        if ((fVar56 == fVar102) && (!NAN(fVar56) && !NAN(fVar102))) {
          fVar114 = (fVar92 - fVar94) + fVar64;
        }
        if ((fVar56 == fVar103) && (!NAN(fVar56) && !NAN(fVar103))) {
          fVar114 = (fVar89 - fVar92) + fVar78;
        }
        fVar114 = fVar114 * fVar63;
        if (fVar114 < 0.0) {
          fVar114 = fVar114 + fVar62;
        }
        *(char *)param_2 = (char)(int)ROUND(fVar114);
      }
      param_1 = (ulonglong *)((longlong)param_1 + 4);
      param_2 = param_2 + 1;
    }
    return;
  }
  iVar65 = 0;
  fVar78 = _DAT_143086620;
  fVar89 = _DAT_143086640;
  if (0 < (int)(param_3 & 0xfffffffc)) {
    do {
      uVar106 = (undefined4)*param_1;
      iVar65 = iVar65 + 4;
      uVar1 = (ulonglong)(ushort)uVar106 & 0xffffffffffff00ff;
      uVar3 = *(undefined4 *)((longlong)param_1 + 4);
      auVar31._8_4_ = 0;
      auVar31._0_8_ = uVar1;
      auVar31[0xc] = (char)((uint)uVar106 >> 0x18);
      auVar32[8] = (char)((uint)uVar106 >> 0x10);
      auVar32._0_8_ = uVar1;
      auVar32[9] = 0;
      auVar32._10_3_ = auVar31._10_3_;
      auVar43._5_8_ = 0;
      auVar43._0_5_ = auVar32._8_5_;
      auVar33[4] = (char)((uint)uVar106 >> 8);
      auVar33._0_4_ = (int)uVar1;
      auVar33[5] = 0;
      auVar33._6_7_ = SUB137(auVar43 << 0x40,6);
      uVar106 = (undefined4)param_1[1];
      param_1 = (ulonglong *)((longlong)param_1 + 0xc);
      bVar75 = (byte)((uint)uVar3 >> 0x18);
      uVar2 = (ulonglong)(ushort)uVar3 & 0xffffffffffff00ff;
      auVar34._8_4_ = 0;
      auVar34._0_8_ = uVar2;
      auVar34[0xc] = bVar75;
      auVar35[8] = (char)((uint)uVar3 >> 0x10);
      auVar35._0_8_ = uVar2;
      auVar35[9] = 0;
      auVar35._10_3_ = auVar34._10_3_;
      auVar44._5_8_ = 0;
      auVar44._0_5_ = auVar35._8_5_;
      auVar36[4] = (char)((uint)uVar3 >> 8);
      auVar36._0_4_ = (int)uVar2;
      auVar36[5] = 0;
      auVar36._6_7_ = SUB137(auVar44 << 0x40,6);
      bVar100 = (byte)((uint)uVar106 >> 0x18);
      uVar42 = (ulonglong)(ushort)uVar106 & 0xffffffffffff00ff;
      auVar37._8_4_ = 0;
      auVar37._0_8_ = uVar42;
      auVar37[0xc] = bVar100;
      auVar38[8] = (char)((uint)uVar106 >> 0x10);
      auVar38._0_8_ = uVar42;
      auVar38[9] = 0;
      auVar38._10_3_ = auVar37._10_3_;
      auVar45._5_8_ = 0;
      auVar45._0_5_ = auVar38._8_5_;
      iVar80 = (int)uVar42;
      auVar39[4] = (char)((uint)uVar106 >> 8);
      auVar39._0_4_ = iVar80;
      auVar39[5] = 0;
      auVar39._6_7_ = SUB137(auVar45 << 0x40,6);
      auVar66[0xc] = bVar100;
      auVar66._8_4_ = iVar80;
      auVar66._4_4_ = auVar36._4_4_;
      auVar66._0_4_ = auVar32._8_4_;
      auVar140._0_4_ = (float)auVar33._4_4_;
      auVar140._4_4_ = (float)(int)uVar2;
      auVar140._8_4_ = (float)bVar75;
      auVar140._12_4_ = (float)auVar38._8_4_;
      fVar111 = (float)(int)uVar1;
      fVar117 = (float)(uint3)(auVar31._10_3_ >> 0x10);
      fVar120 = (float)auVar35._8_4_;
      fVar123 = (float)auVar39._4_4_;
      auVar66._13_3_ = 0;
      auVar126._8_4_ = fVar120;
      auVar126._0_8_ = CONCAT44(fVar117,fVar111);
      auVar126._12_4_ = fVar123;
      auVar135._0_4_ = (float)auVar32._8_4_;
      auVar135._4_4_ = (float)auVar36._4_4_;
      auVar135._8_4_ = (float)iVar80;
      auVar135._12_4_ = (float)bVar100;
      auVar127 = maxps(auVar126,auVar140);
      auVar128._8_4_ = fVar120;
      auVar128._0_8_ = CONCAT44(fVar117,fVar111);
      auVar128._12_4_ = fVar123;
      auVar69 = minps(auVar128,auVar140);
      auVar128 = maxps(auVar127,auVar135);
      auVar127 = minps(auVar69,auVar135);
      fVar136 = auVar128._0_4_;
      fVar137 = auVar128._4_4_;
      fVar133 = auVar128._8_4_;
      fVar134 = auVar128._12_4_;
      fVar78 = fVar136 - auVar127._0_4_;
      fVar89 = fVar137 - auVar127._4_4_;
      fVar92 = fVar133 - auVar127._8_4_;
      fVar94 = fVar134 - auVar127._12_4_;
      uVar101 = -(uint)(fVar136 == 0.0 || fVar78 == 0.0);
      uVar108 = -(uint)(fVar137 == 0.0 || fVar89 == 0.0);
      uVar109 = -(uint)(fVar133 == 0.0 || fVar92 == 0.0);
      uVar110 = -(uint)(fVar134 == 0.0 || fVar94 == 0.0);
      auVar129._0_4_ = fVar136 + (float)((uint)fVar62 & uVar101);
      auVar129._4_4_ = fVar137 + (float)((uint)fVar63 & uVar108);
      auVar129._8_4_ = fVar133 + (float)((uint)fVar56 & uVar109);
      auVar129._12_4_ = fVar134 + (float)((uint)fVar103 & uVar110);
      fVar78 = (float)((uint)fVar62 & uVar101) + fVar78;
      fVar89 = (float)((uint)fVar63 & uVar108) + fVar89;
      fVar92 = (float)((uint)fVar56 & uVar109) + fVar92;
      fVar94 = (float)((uint)fVar103 & uVar110) + fVar94;
      auVar66 = rcpps(auVar66,auVar129);
      auVar69._4_4_ = fVar89;
      auVar69._0_4_ = fVar78;
      auVar69._8_4_ = fVar92;
      auVar69._12_4_ = fVar94;
      auVar69 = rcpps(auVar127,auVar69);
      fVar68 = auVar69._0_4_;
      fVar79 = (auVar129._0_4_ - auVar140._0_4_) * fVar68;
      fVar72 = auVar69._4_4_;
      fVar90 = (auVar129._4_4_ - auVar140._4_4_) * fVar72;
      fVar73 = auVar69._8_4_;
      fVar93 = (auVar129._8_4_ - auVar140._8_4_) * fVar73;
      fVar74 = auVar69._12_4_;
      fVar95 = (auVar129._12_4_ - auVar140._12_4_) * fVar74;
      auVar97._0_4_ = (int)(float)(~uVar101 & (uint)(auVar66._0_4_ * fVar78 * fVar62));
      auVar97._4_4_ = (int)(float)(~uVar108 & (uint)(auVar66._4_4_ * fVar89 * fVar63));
      fVar78 = (auVar129._0_4_ - fVar111) * fVar68;
      fVar89 = (auVar129._4_4_ - fVar117) * fVar72;
      fVar76 = (auVar129._8_4_ - fVar120) * fVar73;
      fVar77 = (auVar129._12_4_ - fVar123) * fVar74;
      fVar68 = fVar68 * (auVar129._0_4_ - auVar135._0_4_);
      fVar72 = fVar72 * (auVar129._4_4_ - auVar135._4_4_);
      fVar73 = fVar73 * (auVar129._8_4_ - auVar135._8_4_);
      fVar74 = fVar74 * (auVar129._12_4_ - auVar135._12_4_);
      uVar112 = ~-(uint)(fVar111 == auVar129._0_4_) & -(uint)(auVar140._0_4_ == auVar129._0_4_);
      uVar118 = ~-(uint)(fVar117 == auVar129._4_4_) & -(uint)(auVar140._4_4_ == auVar129._4_4_);
      uVar121 = ~-(uint)(fVar120 == auVar129._8_4_) & -(uint)(auVar140._8_4_ == auVar129._8_4_);
      uVar124 = ~-(uint)(fVar123 == auVar129._12_4_) & -(uint)(auVar140._12_4_ == auVar129._12_4_);
      uVar113 = ~uVar112 & -(uint)(auVar135._0_4_ == auVar129._0_4_);
      uVar119 = ~uVar118 & -(uint)(auVar135._4_4_ == auVar129._4_4_);
      uVar122 = ~uVar121 & -(uint)(auVar135._8_4_ == auVar129._8_4_);
      uVar125 = ~uVar124 & -(uint)(auVar135._12_4_ == auVar129._12_4_);
      auVar127._8_8_ = 0;
      auVar127._0_8_ = CONCAT44((int)fVar137,(int)fVar136) << 0x20;
      fVar78 = ((float)(~uVar113 &
                       ~uVar112 & (uint)(fVar68 - fVar79) & -(uint)(fVar111 == auVar129._0_4_)) +
               (float)((uint)((fVar79 - fVar78) + _DAT_143086640) & uVar113) +
               (float)(~uVar113 & (uint)((fVar78 - fVar68) + fVar64) & uVar112)) * _DAT_143086620;
      fVar89 = ((float)(~uVar119 &
                       ~uVar118 & (uint)(fVar72 - fVar90) & -(uint)(fVar117 == auVar129._4_4_)) +
               (float)((uint)((fVar90 - fVar89) + _UNK_143086644) & uVar119) +
               (float)(~uVar119 & (uint)((fVar89 - fVar72) + fVar102) & uVar118)) * _UNK_143086624;
      fVar68 = ((float)(~uVar122 &
                       ~uVar121 & (uint)(fVar73 - fVar93) & -(uint)(fVar120 == auVar129._8_4_)) +
               (float)((uint)((fVar93 - fVar76) + _UNK_143086648) & uVar122) +
               (float)(~uVar122 & (uint)((fVar76 - fVar73) + fVar105) & uVar121)) * _UNK_143086628;
      fVar72 = ((float)(~uVar125 &
                       ~uVar124 & (uint)(fVar74 - fVar95) & -(uint)(fVar123 == auVar129._12_4_)) +
               (float)((uint)((fVar95 - fVar77) + _UNK_14308664c) & uVar125) +
               (float)(~uVar125 & (uint)((fVar77 - fVar74) + fVar114) & uVar124)) * _UNK_14308662c;
      auVar82._0_4_ =
           (int)(float)(~uVar101 &
                       (uint)((float)(~-(uint)(fVar78 < 0.0) & (uint)fVar78) +
                             (float)(-(uint)(fVar78 < 0.0) & (uint)(fVar62 + fVar78))));
      auVar83._4_4_ =
           (int)(float)(~uVar108 &
                       (uint)((float)(~-(uint)(fVar89 < 0.0) & (uint)fVar89) +
                             (float)(-(uint)(fVar89 < 0.0) & (uint)(fVar63 + fVar89))));
      auVar83._0_4_ = auVar82._0_4_;
      auVar83._8_4_ = auVar83._4_4_;
      auVar83._12_4_ = auVar97._4_4_;
      auVar82._8_8_ = auVar83._8_8_;
      auVar82._4_4_ = auVar97._0_4_;
      auVar98._12_4_ = (int)(float)(~uVar109 & (uint)(auVar66._8_4_ * fVar92 * fVar56));
      auVar98._8_4_ =
           (int)(float)(~uVar109 &
                       (uint)((float)(~-(uint)(fVar68 < 0.0) & (uint)fVar68) +
                             (float)(-(uint)(fVar68 < 0.0) & (uint)(fVar56 + fVar68))));
      auVar97._8_4_ = auVar97._4_4_;
      auVar97._12_4_ = (int)fVar137;
      auVar69 = auVar82 & _DAT_143086650 | auVar127 << 0x40;
      auVar115._0_8_ = auVar69._0_8_;
      auVar115._8_4_ = auVar69._12_4_;
      auVar115._12_4_ = auVar69._8_4_;
      auVar98._0_8_ = auVar97._8_8_;
      auVar127 = packssdw(auVar115,auVar98);
      auVar99._4_4_ =
           (int)(float)(~uVar110 &
                       (uint)((float)(~-(uint)(fVar72 < 0.0) & (uint)fVar72) +
                             (float)(-(uint)(fVar72 < 0.0) & (uint)(fVar103 + fVar72))));
      auVar99._0_4_ = (int)fVar133;
      auVar99._8_4_ = (int)(float)(~uVar110 & (uint)(auVar66._12_4_ * fVar94 * fVar103));
      auVar99._12_4_ = (int)fVar134;
      sVar4 = auVar127._0_2_;
      sVar5 = auVar127._2_2_;
      sVar6 = auVar127._4_2_;
      sVar7 = auVar127._6_2_;
      uVar106 = CONCAT13((0 < sVar7) * (sVar7 < 0x100) * auVar127[6] - (0xff < sVar7),
                         CONCAT12((0 < sVar6) * (sVar6 < 0x100) * auVar127[4] - (0xff < sVar6),
                                  CONCAT11((0 < sVar5) * (sVar5 < 0x100) * auVar127[2] -
                                           (0xff < sVar5),
                                           (0 < sVar4) * (sVar4 < 0x100) * auVar127[0] -
                                           (0xff < sVar4))));
      sVar8 = auVar127._8_2_;
      sVar9 = auVar127._10_2_;
      sVar10 = auVar127._12_2_;
      sVar11 = auVar127._14_2_;
      auVar69 = packssdw(auVar99,auVar99);
      *param_2 = uVar106;
      sVar4 = auVar69._0_2_;
      sVar5 = auVar69._2_2_;
      sVar6 = auVar69._4_2_;
      sVar7 = auVar69._6_2_;
      param_2[1] = (int)(CONCAT17((0 < sVar11) * (sVar11 < 0x100) * auVar127[0xe] - (0xff < sVar11),
                                  CONCAT16((0 < sVar10) * (sVar10 < 0x100) * auVar127[0xc] -
                                           (0xff < sVar10),
                                           CONCAT15((0 < sVar9) * (sVar9 < 0x100) * auVar127[10] -
                                                    (0xff < sVar9),
                                                    CONCAT14((0 < sVar8) * (sVar8 < 0x100) *
                                                             auVar127[8] - (0xff < sVar8),uVar106)))
                                 ) >> 0x20);
      param_2[2] = CONCAT13((0 < sVar7) * (sVar7 < 0x100) * auVar69[6] - (0xff < sVar7),
                            CONCAT12((0 < sVar6) * (sVar6 < 0x100) * auVar69[4] - (0xff < sVar6),
                                     CONCAT11((0 < sVar5) * (sVar5 < 0x100) * auVar69[2] -
                                              (0xff < sVar5),
                                              (0 < sVar4) * (sVar4 < 0x100) * auVar69[0] -
                                              (0xff < sVar4))));
      param_2 = param_2 + 3;
      fVar78 = _DAT_143086620;
      fVar89 = _DAT_143086640;
    } while (iVar65 < (int)(param_3 & 0xfffffffc));
  }
  for (; fVar56 = _DAT_143086640, fVar63 = _DAT_143086620, iVar65 < (int)param_3;
      iVar65 = iVar65 + 1) {
    fVar114 = (float)(byte)*param_1;
    fVar105 = (float)*(byte *)((longlong)param_1 + 1);
    fVar102 = (float)*(byte *)((longlong)param_1 + 2);
    fVar103 = fVar114;
    if (fVar114 <= fVar105) {
      fVar103 = fVar105;
    }
    fVar92 = fVar114;
    if (fVar105 <= fVar114) {
      fVar92 = fVar105;
    }
    if (fVar103 <= fVar102) {
      fVar103 = fVar102;
    }
    auVar12._4_8_ = 0;
    auVar12._0_4_ = fVar103;
    auVar130._12_4_ = 0;
    auVar130._0_12_ = auVar12;
    if (fVar102 <= fVar92) {
      fVar92 = fVar102;
    }
    _DAT_143086620 = fVar78;
    _DAT_143086640 = fVar89;
    *(char *)((longlong)param_2 + 2) = (char)(int)ROUND(fVar103);
    fVar78 = 0.0;
    fVar92 = fVar103 - fVar92;
    if ((fVar103 == 0.0) || ((fVar92 == 0.0 && (!NAN(fVar92))))) {
      *(undefined1 *)((longlong)param_2 + 1) = 0;
      *(undefined1 *)param_2 = 0;
    }
    else {
      auVar70._12_4_ = 0;
      auVar70._0_12_ = auVar12;
      auVar69 = rcpss(auVar70,auVar130);
      auVar127 = rcpss(ZEXT416((uint)fVar92),ZEXT416((uint)fVar92));
      fVar89 = auVar127._0_4_;
      fVar94 = (fVar103 - fVar114) * fVar89;
      fVar68 = (fVar103 - fVar102) * fVar89;
      fVar89 = (fVar103 - fVar105) * fVar89;
      *(char *)((longlong)param_2 + 1) = (char)(int)ROUND(auVar69._0_4_ * fVar92 * fVar62);
      if ((fVar103 == fVar114) && (!NAN(fVar103) && !NAN(fVar114))) {
        fVar78 = fVar68 - fVar89;
      }
      if ((fVar103 == fVar105) && (!NAN(fVar103) && !NAN(fVar105))) {
        fVar78 = (fVar94 - fVar68) + fVar64;
      }
      if ((fVar103 == fVar102) && (!NAN(fVar103) && !NAN(fVar102))) {
        fVar78 = (fVar89 - fVar94) + fVar56;
      }
      fVar78 = fVar78 * fVar63;
      if (fVar78 < 0.0) {
        fVar78 = fVar78 + fVar62;
      }
      *(char *)param_2 = (char)(int)ROUND(fVar78);
    }
    param_1 = (ulonglong *)((longlong)param_1 + 3);
    param_2 = (undefined4 *)((longlong)param_2 + 3);
    fVar78 = _DAT_143086620;
    fVar89 = _DAT_143086640;
    _DAT_143086640 = fVar56;
    _DAT_143086620 = fVar63;
  }
  _DAT_143086620 = fVar78;
  _DAT_143086640 = fVar89;
  return;
}

